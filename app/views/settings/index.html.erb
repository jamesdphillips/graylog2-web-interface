<h1>Settings</h1>

<div class="description">
  The options you can set here only affect your own user.
</div>

<div class="setting">
  <label>Message length</label>
  <%= form_tag '/settings/store' do -%>
    <%= hidden_field_tag 'setting_type', Setting::TYPE_MESSAGE_LENGTH %>
    <%= text_field_tag 'value', Setting.get_message_length(current_user) %>
    <%= submit_tag 'Store' %>
    <br />
    The length of messages before they are cut with a <span class="code">[more]</span> link. (Default: <%=h Setting::TYPE_MESSAGE_LENGTH_STANDARD %>)
  <% end -%>
</div>

<div class="setting">
  <label>Message count interval</label>
  <%= form_tag '/settings/store' do -%>
    <%= hidden_field_tag 'setting_type', Setting::TYPE_MESSAGE_COUNT_INTERVAL %>
    <%= text_field_tag 'value', Setting.get_message_count_interval(current_user) %>
    <%= submit_tag 'Store' %>
    <br />
    Graylog2 can display the number of handled log messages in the last X minutes. Define X here. (Default: <%=h Setting::TYPE_MESSAGE_COUNT_INTERVAL_STANDARD %>)
  <% end -%>
</div>

<div class="setting">
  <label>Maximum messages</label>
  <%= form_tag '/settings/store' do -%>
    <%= hidden_field_tag 'setting_type', Setting::TYPE_MESSAGE_MAX_COUNT %>
    <%= text_field_tag 'value', Setting.get_message_max_count(current_user) %>
    <%= submit_tag 'Store' %>
    <br />
    The number of maximum messages per [message count interval] minutes. Everything above this value is an alarm. (i.e. visible in the dashboard)
  <% end -%>
</div>